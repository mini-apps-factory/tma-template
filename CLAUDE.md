# CLAUDE.md — Mini Apps Factory

> This file is the single source of truth for Claude Code.
> Auto-generated by pipeline C9: CODE GEN.

## PROJECT
- **Name:** {{APP_NAME}}
- **Slug:** {{PROJECT_SLUG}}
- **Category:** {{CATEGORY}}
- **Tier:** {{TIER}} (MVP: 5-10 screens / Service: 15-25 / Platform: 30-70)
- **Client:** {{CLIENT_CONTEXT}}

## TECH STACK
- Next.js 14 (App Router)
- TypeScript 5 (strict mode)
- Tailwind CSS 3
- Supabase (Auth + DB + Storage + Realtime)
- Telegram WebApp SDK
- **DO NOT upgrade** any major versions
- **DO NOT add** new dependencies without explicit approval

## EXISTING CODE (DO NOT RECREATE)
The template already includes:
- `/components/ui/` — Button, Card, Input, Modal, Skeleton, TabBar, Header, EmptyState
- `/components/layout/` — AppShell, PageTransition
- `/components/providers/` — TelegramProvider, AuthProvider, ThemeProvider
- `/hooks/` — useTelegram, useAuth, useSupabase, useHaptic, useBackButton
- `/lib/` — supabase-client, supabase-server, telegram, utils, constants

**USE these existing components.** Import from `@/components/ui/Button`, etc.

## SCREENS
{{SCREENS_FROM_C1}}

## DATABASE
{{DATABASE_FROM_C2}}

## API ENDPOINTS
{{API_FROM_C2}}

## UI SPECIFICATIONS
{{UI_FROM_C3}}

## CODING STANDARDS
1. Use existing `/components/ui/` — DO NOT recreate base components
2. Business components go in `/components/{feature}/`
3. Pages go in `/app/{route}/page.tsx`
4. API routes go in `/app/api/{resource}/route.ts`
5. Types go in `/types/{feature}.ts` — export from `index.ts`
6. CSS: Tailwind only, use CSS vars from `globals.css`
7. Minimize `"use client"` — prefer Server Components
8. All Supabase queries use typed client from `/lib/`
9. Error handling: try/catch with user-friendly messages
10. Loading states: use Skeleton component

## DESIGN TOKENS
Colors: Use `tg-*` classes (bg-tg-bg, text-tg-text, etc.)
These adapt automatically to Telegram theme (light/dark).
Spacing: Use Tailwind defaults (p-4, gap-3, etc.)
Border radius: `rounded-tg` (12px) for cards, `rounded-xl` for buttons

## FILE CREATION RULES
- Business components → `/components/{feature}/`
- Pages → `/app/{route}/page.tsx`
- API routes → `/app/api/{resource}/route.ts`
- Types → `/types/{feature}.ts`
- Hooks (project-specific) → `/hooks/use{Feature}.ts`

## TESTING CHECKLIST
After building, verify:
- [ ] `npm run build` passes with zero errors
- [ ] All screens render without crashes
- [ ] Navigation between tabs works
- [ ] Back button works in Telegram
- [ ] Data loads from Supabase (or shows EmptyState)
- [ ] Forms submit and save data
